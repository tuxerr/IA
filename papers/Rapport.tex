\documentclass[12pt]{article}
\usepackage{amsmath}
%\usepackage{graphics}
\usepackage[french]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{vmargin} 
\usepackage{graphicx}  
\usepackage{amsmath}
\setpapersize{A4}
\setmarginsrb   %default values
{25mm}  % leftmargin : 30mm
{20mm}  % topmargin
{25mm}  % rightmargin
{20mm}  % bottommargin : 25mm
{12pt}  % headheight
{5mm}   % headsep
{12pt}  % footheight
{10mm}  % footskip

\date{7 janvier 2013}

\title{Projet d'intelligence artificielle :\\Simulation de Société d'Agents Coopératifs}

\author{Jason \textsc{Crombez} \\ Marine \textsc{Lavaux} \\ Rémi \textsc{Palandri}}
	
\begin{document}
	
\maketitle

\newpage
	
\section{Sujet}
	
Ce projet consiste à définir une société d'agents où chaque agent aura un rôle.
Pour les agents humains ce rôle pourra être :\\

	\begin{itemize}

	\item cultivateur
    	\item éleveur
    	\item chasseur
    	\item porteurs d'eau
    	\item constructeur
    	\item cuisinier
    	\item chef de clan (un seul agent)\\

	\end{itemize}

Il y aura également des agents animaux qui pourront être soit sauvages soit 
domesticables.\\

Ce clan et ces animaux vivront dans un univers clos, représentable par une île 
(grille 2D rectangle), constitué d'une plaine dont une partie sera occupée par 
le clan (village) et d'une jungle.\\

Cet univers sera soumis à des intempéries (dont on n'est pas obligé de 
représenter la nature exacte : foudre, éboulements, innondations, ...) et à des 
antagonismes (chasses d'animaux qui veulent fuir les humains et survivre à 
leurs attaques, attaques par les animaux des humains qui veulent fuir et 
survivre eux aussi, ...) dont l'effet ultime sera toujours la diminution (la 
mort), dans une certaine proportion (simulée par des tirages aléatoires), du 
nombre d'agents (humains ou animaux). Les agents auront néanmoins la faculté 
de se reproduire si certaines conditions sont satisfaites (conditions de 
ressources alimentaires, ...).\\

Les agents animaux chercheront essentiellement à se nourrir et à se reproduire. 
Leur capacité à se nourrir pourra être entravée par le manque d'étendue dont 
ils peuvent profiter (surface de l'ile moins celle du village et des cultures). 
Leur capacité à se reproduire pourra dépendre de leur capacité à se nourrir et 
de leur nombre (plus ils sont nombreux plus ils peuvent se rencontrer).\\

Les objets abris peuvent servir à faire diminuer les probabilités de mort des 
agents humains, les huttes de stockage servent de réserves et permettent de 
survivre même si le temps ne permet ni les récoltes, ni la chasse. Ces objets 
peuvent être détériorés et devront être reconstruits ou réparés.\\

Toutes les activités prennent du temps et de l'énergie vitale à tous les agents 
(humains ou animaux). Ils doivent tous se nourrir et se reposer. Ces 
caractéristiques peuvent aussi être simulées par différentes jauges.\\

L'agent chef de clan est un peu particulier dans la mesure où il pourrait 
décider de certaines affectations comme décider combien d'agents de tel type 
il faut consacrer à la tâche qui leur incombe, décider quels tâches accomplir, 
combien de temps y consacrer, etc (voir quels sont les paramètres utiles et 
sur lesquels le chef de clan pourra jouer).\\

L'unité de surface cultivable rapporte une certaine quantité de nourriture 
végétale pour autant qu'elle soit cultivée pendant un certain temps par un 
certain nombre d'agents cultivateurs. Il en est de même concernant l'élevage 
des animaux domestiques.\\

% dans les consignes sur le site d'evrard il conseille \section{Objectifs}
% mais je ne vois pas quoi mettre dedans

\section{Analyse du sujet}

	\subsection{L'univers}

L'univers est clos, il s'agit d'une île. Celle-ci est est générée 
automatiquement à l'aide de Perlin Noise, c'est également le cas en ce qui 
concerne les différents types de terrains et les ressources naturelles 
(forêts, lacs, baies, ...) les coefficients peuvent être ajustés afin de créer 
des cartes ayant leur spécificités propres.\\

% detail perlin noise ?

La carte est divisée en cellules unitaires, celles-ci contiennent les 
informations relatives au terrain, aux agents et bâtiments présents sur la 
cellule. Ces informations sont réparties en deux catégories, celles qui sont 
mutuellement exclusives (une cellule ne peut être que d'un seul type de 
terrain) et celles s'ajoutent les unes aux autres (une cellule peut à la fois 
contenir un bâtiment, plusieurs agents animaux et plusieurs agents humains).\\

Une cellule étant unitaire, un agent quand il se trouve sur une cellule 
l'occupe en totalité et n'occupe qu'elle, en revanche une cellule peut-être 
par plusieurs agents simultanément. Les bâtiments occupent une seule cellule, 
les cellules sont occupées par un seul bâtiment au maximum. Les agents peuvent 
traverser une cellule occupée par un bâtiment.

	\subsection{Les bâtiments}

Il existe plusieurs types différents de bâtiments.
	\begin{itemize}
	
	\item le Forum : il sera présent initialement sur la carte et les 
agents humains auront son emplacement en mémoire, car c'est là où se situera 
le chef et où viendront les agents pour recevoir des directives.

	\item Les stockages de ressources : ils sont spécialisés dans un type 
de ressource particulière et ont une capacité maximale.

	\item Les abris : ont une capacité maximale, la mémoire des agents 
présents dans le bâtiment n'ets pas assuré par le bâtiment mais par l'agent.

	\item Les champs : ils sont comme des stockages de nourriture dont 
le contenu augmenterait périodiquement si ils sont cultivés.

	\item Les chaudrons : ce sont les endroits où les agents humains dont 
le rôle sera de cuisiner cuisineront et donc où les agents humains ayant faim 
viendront se restaurer.

	\end{itemize}

	\subsection{Les agents}

Qu'ils s'agissent des animaux ou des humains, la modélisation de ceux-ci à 
une racine commune. Il s'agit de la classe \textit{Etre} dans le fichier 
\textit{etre.py}. Cette représentation dont hérite tous les types d'agents 
regroupe ce qui peut être factorisé. Il s'agit pour une part de tout ce qui 
concerne la gestion des entités en lien avec l'intreface et d'autre part 
d'attributs non spécifiques à un type d'agent particulier (le genre par 
exemple, qui sera utilisé dans le cadre de la reproduction ou bien l'état de 
l'agent, vivant ou mort).\\

Tous les types d'agents disposeront d'une fonction \textit{run} qui sera jouée 
à chaque tour de la simulation, certains comportement tels que la mort si la 
jauge de nourriture tombe à zéro seront également universels.

La modélisation du vieillissement est elle aussi commune, l'âge en lui même 
n'est pas prs en compte mais la mort des agents par vieillesse existe. La 
modélisation mathématique retenue est une simplification du modèle de Weibull 
(courbe en baignoire). En effet au début le taux de mortalité est décroissant 
et correspond à une période de mortalité infantile, ensuite le taux de 
mortalité est constant (et faible) puis il ré-augmente.\\

% figure baignoire

Dans notre modèle la courbe a été simplifiée en la modélisant par des droites 
dont les coefficients ont été choisis arbitrairement, cette modélisation se 
trouve dans le fichier \textit{LifeExpectancy.py}. A chaque appel de la 
fonction \textit{run} pour savoir si l'agent meurt de mort naturelle.

Par ailleurs dans le cas où l'agent devra chercher sur la carte quelque chose 
dont il ne connait pas a priori la position, la recherche se fera mais dans 
une zone restreinte centrée sur l'agent, et ceci afin de modéliser ce qu'il 
peut voir d'où il est.

		\subsubsection{Les animaux}

Il existe deux types d'agents animaux, les domesticables et les sauvages. Sur 
l'interface graphique ceux-ci sont représentés respectivement par des moutons 
et des loups.\\

Les éléments factorisables à ces deux types d'agents sont 
regroupés au sein de la classe \textit{Animal} se trouvant dans le fichier 
\textit{Gaia.py} et héritant de la classe \textit{Etre}. Les classes 
\textit{Sheep} et \textit{Wolf}, également présentes dans \textit{Gaia.py}
héritent de cette classe \textit{Animal}. Ce type d'héritage multiple étant 
possible en \textit{Python}. Ce que l'on factorise au niveau de la classe 
\textit{Animal} consiste essentiellement en des comportements (méthodes). Il 
s'agit des fonctions concernant la reproduction.\\

Comme précisé dans le sujet, la reproduction dépend de la possibilité de deux 
animaux de sexe opposé à se rencontrer ainsi que du fait que ceux-ci sont 
suffisamment bien alimenté. Les fonctions nécessaires sont donc de rendre 
possible la vérification de ces conditions (en terme de genre et d'état de la 
jauge de nourriture), ainsi que la recherche d'un partenaire pour se 
reproduire si ces conditions sont vérifiées, le fait de de le rejoindre ainsi 
que l'enfantement.\\

Dans le cadre de la modélisation de ces comportement nous avons fait certaines 
hypothèses, celles-ci pouvaient être simplificatrices ou bien avoir un 
caractère arbitraire. L'hypothèse simplificatrice que nous avons faite est de 
considérer que le temps de gestation est nul, de plus l'individu qui voit le 
jour est instantanément considéré comme étant un adulte. Les choix arbitraires 
que nous avons faits se situent au niveau de tous les paramêtres qu'il nous a 
fallut fixer, il s'agit par exemple du champ de vision des animaux, le rayon 
de ce champ de vision est une constante arbitraire et il en va de même pour 
le niveau de la jauge de nourriture qui défini si l'animal a faim ou bien est 
disposé à se reproduire.\\

		\begin{itemize}
		\item Les moutons\\
		\end{itemize}

Les moutons se nourrissent d'herbe, celle ci se trouve sur les terrains de type 
plaine, l'herbe de la cellule est alors consommée et met un certain temps à 
repousser.\\

La fonction \textit{run} du mouton dépend essentiellement de l'état de sa 
jauge de nourriture si il est assez alimenté il cherchera à se reproduire 
si ce n'est pas le cas soit (cette condition est déterminée par le hasard mais 
pondérée par la jauge de nourriture) il se mettra à errer ou à se nourrir (la 
probabilité qu'il se nourrisse sera d'autant plus importante que la jauge de 
nourriture sera basse mais dépend en partie d'un nombre arbitraire).\\

		\begin{itemize}
		\item Les loups\\
		\end{itemize}

Les loups se nourrissent de moutons, qu'ils doivent donc chasser. La 
principale différence dans la fonction \textit{run}, par rapport, à celle du 
mouton, est donc que de même qu'il y a recherche dans le cas de la 
reproduction, il y a également recherche lorsqu'il faut se nourrir.

		\subsubsection{Les humains}

\textit{La spécification suivante est une proposition d'intréprétation du 
sujet}

Les agents humains disposent de deux jauges qui doivent être au dessus de 
zéro pour que l'agent survive. Il s'agit de la jauge de nourriture, qui baisse 
en continu de façon indépendante des activités et la jauge de fatigue qui, 
elle baissera en fonction de l'activité pratiquée par l'agent. Pour remplir 
la jauge de nourriture l'agent pourra consommer de la nourriture issue de la 
chasse, de la cueillette, de l'agriculture ou de l'élevage. S'il consomme 
directement ces aliments ceux ci seront moins nourrissants que s'ils sont 
préalablement cuisinés par un agent cuisinier. Afin de remplir sa jauge de 
fatigue l'agent peut cesser l'activité qu'il pratique et se reposer, c'est 
pendant cette période de repos qu'il aura l'occasion de se reproduire.\\

Mis à part le chef dont le système de mémoire est plus développé, celui des 
autres agents reste relativement limité. Deux agents se trouvant sur la même 
cellule partagent les informations dont ils disposent avec d'autant plus de 
probabilités que l'information sera en rapport avec l'activité courante de 
l'agent.

		\begin{itemize}
		\item Le chef\\
		\end{itemize}

Le chef est unique, il est chargé de donner des ordres aux autres agents en 
tenant compte des connaissances dont il dispose concernant l'état des 
ressources dont dispose le clan. Les tâches à effectuer sont a priori en temps 
limité et le chef considérera donc comme mort les agents ne revenant pas 
demander du travail au bout d'un certain temps.\\

Le chef disposant d'une mémoire plus complète que les autres agents, il est un 
recours pour ces derniers, en effet si ils sont pris en défaut car ils 
n'arrivent pas à trouver quelque chose par exemple ils peuvent demander au 
chef de leur indiquer si celui ci dispose d'informations supplémentaires.\\

		\begin{itemize}
		\item Les constructeurs\\
		\end{itemize}

L'agent constructeur se voit assigner comme tâche par le chef de construire un 
bâtiment précis, il lui revient donc de trouver un emplacement adéquat, c'est à
dire une plaine qui ne soit pas déjà occupée par un autre bâtiment, de 
construire le bâtiment en question (le nombre de tours nécessaire dépendant du 
bâtiment) et de retourner voir le chef pour lui indiquer l'emplacement du 
nouveau bâtiment et recevoir une autre tâche à accomplir.\\

		\begin{itemize}
		\item Les cultivateurs\\
		\end{itemize}

Le cultivateur quand il se voit attribuer cette tâche se fait indiquer par le 
chef l'emplacement d'un champ (considéré comme un bâtiment) préalablement 
construit et non cultivé par un autre agent. Le champ dispose d'une capacité 
maximale et sa quantité de nourriture augmente périodiquement pour peu qu'il 
soit cultivé. C'est le rôle de l'agriculteur de cultiver son champ et d'aller 
quand celui ci est plein apporter la nourriture dans un stockage adapté.\\

		\begin{itemize}
		\item Les cuisiniers\\
		\end{itemize}

Le cuisinier quand il se voit attribuer cette tâche se fait indiquer par le 
chef l'emplacement d'un chaudron préalablement construit et non occupé par 
un autre agent. Le chaudron dispose d'une capacité maximale et les agents 
souhaitant se nourrir pourront venir s'y restaurer de façon plus efficace que 
s'ils cosommaient de la nourriture directement. C'est le rôle du cuisinier 
d'aller chercher de la nourriture dans un stockage quand son chaudron et vide.
On considère que le temps de préparation sera pas pris en compte et donc que 
la nourriture sera donc immédiatement accessible une fois dans le chaudron et 
que la nature de la nourriture (viande, baie, issue de l'agriculture ou de 
l'élevage) n'aura pas d'incidence sur le caractère nourrisant ou non de ce qui 
est préparé.\\

		\begin{itemize}
		\item Les éleveurs\\
		\end{itemize}



\end{document}
	
	
